# WindowsServer 監視 リソースモニタ設定

## はじめに
windows server でリソースモニタを使用しプログラムの監視設定
今回は、CPU、メモリ、ディスク、ネットワーク、DB（SQLServer）の各リソースの利用状況の主な指標のみを取得できるよう対象プロセスを調査しています。

## 起動方法

1. タスクマネージャーから起動:
タスクマネージャー（Ctrl + Shift + Esc）を開き、「パフォーマンス」タブに移動。
右下の「リソースモニターを開く」ボタンをクリック。

2. スタートメニューから起動:
スタートメニューを開き、「リソースモニタ」または「resmon」と入力して検索し、結果から「リソースモニタ」を選択。

3. 実行コマンドから起動:
「Win + R」キーを押して「ファイル名を指定して実行」ダイアログを開き、「resmon」と入力してEnte


## パフォーマンスモニターの使用方法
1. パフォーマンスカウンターの追加:
パフォーマンスモニターを起動し、[監視ツール] > [パフォーマンスモニタ]に移動。
「+」ボタンをクリックしてカウンターを追加。監視したい項目を選択して「追加」。

2. データコレクターセットの設定:
「データコレクターセット」 > 「ユーザー定義」に移動。
右クリックして「新規」 > 「データコレクターセット」を選択し、ガイドに従って設定

3. レポートの確認:
データ収集が完了したら、「レポート」 > 「ユーザー定義」から収集したデータに基づくレポートを確認

## 監視対象プロセスとその説明

### SQLServer:Access Methods				
- Index Searches/sec: インデックスを使用した検索の頻度を示します。			
- Full Scans/sec: テーブルやインデックスのフルスキャンの頻度を示します。			
				
### SQLServer:Buffer Manager				
- Buffer Cache Hit Ratio: バッファキャッシュのヒット率を示します。高いほど効率的なメモリ利用が行われていることを示します。			
- Page Life Expectancy: バッファプール内のページがどれくらいの期間キャッシュされているかを示します。長期間の場合は、メモリ不足の可能性があります。			
				
### Processor Information				
- % Processor Time: プロセッサの全体的な使用率を示します。特定のプロセッサコアや全体の平均値を監視できます			
	
### System				
- Processor Queue Length: プロセッサ待ちキューの長さを示します。これは、プロセッサの負荷が高い場合に待機しているタスクの数を示します。			
			
### Network Interface				
- Bytes Total/sec: 秒間のネットワークインターフェースの合計バイト数を示します。			
- Packets/sec: 秒間のネットワークインターフェースのパケット数を示します。			
				
### Memory				
- Available MBytes: 利用可能な物理メモリの容量（MB）を示します。利用可能なメモリ量が少ない場合は、メモリ不足の可能性があります。			
- Pages/sec: ページングの速度を示します。高い値は、物理メモリ不足によるページングの増加を示します。			
- Page Faults/sec: 秒間のページフォールト数を示します。ページフォールトが頻繁に発生する場合は、メモリの不足やパフォーマンスの問題が考えられます。			
